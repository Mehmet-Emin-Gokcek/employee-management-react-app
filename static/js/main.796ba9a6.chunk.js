(this["webpackJsonpemployee-management-react-app"]=this["webpackJsonpemployee-management-react-app"]||[]).push([[0],{31:function(e,t,s){},33:function(e,t,s){},47:function(e,t,s){"use strict";s.r(t);var n=s(3),a=s.n(n),r=s(13),c=s.n(r),i=(s(31),s(32),s(8)),o=s(9),l=s(11),d=s(10),h=(s(33),s(49)),j=s(50),b=s(51),m=s(52),u=s(53),p=s(23),O=s(24),x=s(48),f=s(1),g=function(){return Object(f.jsxs)("form",{className:"middle",action:"/",method:"get",children:[Object(f.jsx)("label",{htmlFor:"header-search",children:Object(f.jsx)("span",{className:"visually-hidden",children:"Search Employees"})}),Object(f.jsx)("input",{type:"text",id:"header-search",placeholder:"Search customers",name:"s"}),Object(f.jsxs)(x.a,{type:"submit",color:"info",children:[" ",Object(f.jsx)("a",{style:{color:"white"},children:" Search "})]})," "]})},y=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(f.jsx)(h.a,{color:"dark",dark:!0,expand:"md",children:Object(f.jsxs)(j.a,{className:"container-fluid",children:[Object(f.jsx)(b.a,{children:Object(f.jsx)(m.a,{href:"/",children:Object(f.jsx)(p.a,{icon:O.a,size:"2x",pull:"right"})})}),Object(f.jsxs)(b.a,{children:[Object(f.jsx)("h3",{style:{color:"white"},children:" Employee Managament System"})," "]}),Object(f.jsxs)(b.a,{children:[" ",Object(f.jsxs)(u.a,{children:[" ",Object(f.jsx)(g,{})," "]})," "]})]})})}}]),s}(n.Component),v=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(f.jsxs)(n.Fragment,{children:[Object(f.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(f.jsx)("hr",{className:"featurette-divider",style:{width:"85%",marginTop:"2%"}})}),Object(f.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(f.jsx)("footer",{style:{marginTop:"2%"},children:Object(f.jsx)("p",{children:"Copyright \xa9 Employee Management Systems 2021"})})})]})}}]),s}(a.a.Component),N=s(26),S=s(61),C=s(62),w=s(63),k=s(60),I=s(64),T=s(58),U=s(59),A=s(25),E=s(54),F=s(55),D=s(56),W=s(57),B="https://employee-manager-2.herokuapp.com/api/employees",J=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(i.a)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={id:0,firstName:"",lastName:"",role:"",email:"",dob:"",address:"",phone:""},e.onChange=function(t){e.setState(Object(A.a)({},t.target.name,t.target.value))},e.submitNew=function(t){t.preventDefault(),fetch(B,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:e.state.firstName,lastName:e.state.lastName,role:e.state.role,email:e.state.email,dob:e.state.dob,address:e.state.address,phone:e.state.phone})}).then((function(e){return e.json()})).then((function(t){e.props.toggle(),e.props.addUserToState(t)})).catch((function(e){return console.log(e)}))},e.submitEdit=function(t){t.preventDefault(),fetch("".concat(B,"/").concat(e.state.id),{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.state.id,firstName:e.state.firstName,lastName:e.state.lastName,role:e.state.role,email:e.state.email,dob:e.state.dob,address:e.state.address,phone:e.state.phone})}).then((function(){e.props.toggle(),e.props.updateUserIntoState(e.state.id)})).catch((function(e){return console.log(e)}))},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){if(this.props.user){var e=this.props.user,t=e.id,s=e.firstName,n=e.lastName,a=e.role,r=e.email,c=e.dob,i=e.address,o=e.phone;this.setState({id:t,firstName:s,lastName:n,role:a,email:r,dob:c,address:i,phone:o})}}},{key:"render",value:function(){return Object(f.jsxs)(E.a,{onSubmit:this.props.user?this.submitEdit:this.submitNew,children:[Object(f.jsxs)(F.a,{children:[Object(f.jsx)(D.a,{for:"firstName",children:"First Name:"}),Object(f.jsx)(W.a,{type:"text",name:"firstName",onChange:this.onChange,value:""===this.state.firstName?"":this.state.firstName})]}),Object(f.jsxs)(F.a,{children:[Object(f.jsx)(D.a,{for:"lastName",children:"Last Name:"}),Object(f.jsx)(W.a,{type:"text",name:"lastName",onChange:this.onChange,value:""===this.state.lastName?"":this.state.lastName})]}),Object(f.jsxs)(F.a,{children:[Object(f.jsx)(D.a,{for:"role",children:"Role:"}),Object(f.jsx)(W.a,{type:"text",name:"role",onChange:this.onChange,value:""===this.state.role?"":this.state.role})]}),Object(f.jsxs)(F.a,{children:[Object(f.jsx)(D.a,{for:"email",children:"Email:"}),Object(f.jsx)(W.a,{type:"email",name:"email",onChange:this.onChange,value:""===this.state.email?"":this.state.email})]}),Object(f.jsxs)(F.a,{children:[Object(f.jsx)(D.a,{for:"dob",children:"Date of Birth:"}),Object(f.jsx)(W.a,{type:"text",name:"dob",onChange:this.onChange,value:""===this.state.dob?"":this.state.dob})]}),Object(f.jsxs)(F.a,{children:[Object(f.jsx)(D.a,{for:"address",children:"Address:"}),Object(f.jsx)(W.a,{type:"text",name:"address",onChange:this.onChange,value:""===this.state.address?"":this.state.address})]}),Object(f.jsxs)(F.a,{children:[Object(f.jsx)(D.a,{for:"phone",children:"Phone:"}),Object(f.jsx)(W.a,{type:"text",name:"phone",onChange:this.onChange,value:""===this.state.phone?"":this.state.phone,placeholder:"(999) 999-9999"})]}),Object(f.jsx)(x.a,{children:"Send"})]})}}]),s}(a.a.Component),M=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(i.a)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={modal:!1},e.toggle=function(){e.setState((function(e){return{modal:!e.modal}}))},e}return Object(o.a)(s,[{key:"render",value:function(){var e="Edit User",t="";return this.props.isNew?(e="Add User",t=Object(f.jsx)(x.a,{color:"success",onClick:this.toggle,style:{minWidth:"200px"},children:" Add "})):t=Object(f.jsxs)(x.a,{color:"warning",onClick:this.toggle,style:{minWidth:"75px"},children:[" ",Object(f.jsx)("span",{style:{color:"white"},children:" Edit "})]}),Object(f.jsxs)(n.Fragment,{children:[" ",t,Object(f.jsxs)(I.a,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className,children:[Object(f.jsxs)(T.a,{toggle:this.toggle,children:[" ",e," "]}),Object(f.jsx)(U.a,{children:Object(f.jsx)(J,{addUserToState:this.props.addUserToState,updateUserIntoState:this.props.updateUserIntoState,toggle:this.toggle,user:this.props.user})})]})]})}}]),s}(n.Component),L=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(i.a)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).deleteItem=function(t){window.confirm("Do you really wish to delete this employee record?")&&fetch("".concat(B,"/").concat(t),{method:"delete",headers:{"Content-Type":"application/json"}}).then((function(s){e.props.deleteItemFromState(t)})).catch((function(e){return console.log(e)}))},e}return Object(o.a)(s,[{key:"render",value:function(){var e=this,t=this.props.items,s=Object(f.jsxs)("tr",{children:[" ",Object(f.jsxs)("td",{colSpan:"8",align:"center",children:[" ",Object(f.jsx)("b",{children:" No employees yet "})," "]})," "]});return Object(f.jsxs)(k.a,{striped:!0,children:[Object(f.jsx)("thead",{className:"thead-dark",children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:" Id "}),Object(f.jsx)("th",{children:" Name "}),Object(f.jsx)("th",{children:" Role "}),Object(f.jsx)("th",{children:" Email "}),Object(f.jsx)("th",{children:" DOB"}),Object(f.jsx)("th",{children:" Address "}),Object(f.jsx)("th",{children:" Phone "}),Object(f.jsx)("th",{style:{textAlign:"center"},children:" Actions "})]})}),Object(f.jsx)("tbody",{children:(!t||t.length)<=0?s:t.map((function(t){return Object(f.jsxs)("tr",{children:[Object(f.jsxs)("th",{scope:"row",children:[" ",t.id," "]}),Object(f.jsxs)("td",{children:[" ",t.name," "]}),Object(f.jsxs)("td",{children:[" ",t.role," "]}),Object(f.jsxs)("td",{children:[" ",t.email," "]}),Object(f.jsxs)("td",{children:[" ",t.dob," "]}),Object(f.jsxs)("td",{children:[" ",t.address," "]}),Object(f.jsxs)("td",{children:[" ",t.phone," "]}),Object(f.jsx)("td",{align:"center",children:Object(f.jsxs)("div",{children:[Object(f.jsx)(M,{isNew:!1,user:t,updateUserIntoState:e.props.updateState}),"\xa0 \xa0 \xa0",Object(f.jsxs)(x.a,{color:"danger",onClick:function(){return e.deleteItem(t.id)},children:[" ","Delete"," "]})]})})]},t.id)}))})]})}}]),s}(n.Component),P=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(i.a)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={items:[]},e.getItems=function(){fetch(B).then((function(e){return e.json()})).then((function(t){return e.setState({items:t._embedded.employeeList})})).catch((function(e){return console.log(e)}))},e.addUserToState=function(t){e.setState((function(e){return{items:[].concat(Object(N.a)(e.items),[t])}}))},e.updateState=function(t){e.getItems()},e.deleteItemFromState=function(t){var s=e.state.items.filter((function(e){return e.id!==t}));e.setState({items:s})},e}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this.getItems()}},{key:"render",value:function(){var e;return e=Object(f.jsxs)(x.a,{color:"success",onClick:this.getItems(),style:{minWidth:"200px"},children:[" ","All Employees"," "]}),Object(f.jsxs)(S.a,{style:{paddingTop:"20px"},children:[e,Object(f.jsx)(C.a,{children:Object(f.jsx)(w.a,{children:Object(f.jsx)(L,{items:this.state.items,updateState:this.updateState,deleteItemFromState:this.deleteItemFromState})})}),Object(f.jsx)(C.a,{children:Object(f.jsx)(w.a,{children:Object(f.jsx)(M,{isNew:!0,addUserToState:this.addUserToState})})})]})}}]),s}(n.Component),R=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(f.jsxs)(n.Fragment,{children:[Object(f.jsx)(y,{}),Object(f.jsx)(P,{}),Object(f.jsx)(v,{})]})}}]),s}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(f.jsx)(R,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[47,1,2]]]);
//# sourceMappingURL=main.796ba9a6.chunk.js.map